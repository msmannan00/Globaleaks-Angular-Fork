<div class="configSection">
    <div>
      <span>{{ 'Users' | translate }}</span>
      <button class="btn btn-sm btn-primary show-add-user-btn" (click)="toggleAddUser()">
        <i class="fa-solid fa-plus"></i>
        <span>{{ 'Add' | translate }}</span>
      </button>
    </div>
    <div class="row" *ngIf="showAddUser">
      <div ngForm="newUser" class="addUser col-md-6">
        <div class="form-group">
          <label>{{ 'Role' | translate }}</label>
          <span class="text-danger" [ngbTooltip]="'This field is mandatory' | translate">*</span>
          <div>
            <select name="role" class="form-control" [(ngModel)]="new_user.role" required>
              <option value="admin">{{ 'Admin' | translate }}</option>
              <option value="receiver">{{ 'Recipient' | translate }}</option>
              <option *ngIf="resources.node.enable_custodian" value="custodian">{{ 'Custodian' | translate }}</option>
            </select>
          </div>
        </div>
        <div class="form-group" *ngIf="new_user.role !== 'receiver' || !resources.node.simplified_login">
          <label>{{ 'Username' | translate }}</label>
          <span class="text-danger" [ngbTooltip]="'This field is mandatory' | translate">*</span>
          <div>
            <input class="form-control" name="username" [(ngModel)]="new_user.username" type="text" required/>
          </div>
        </div>
        <div class="form-group">
          <label>{{ 'Name' | translate }}</label>
          <span class="text-danger" [ngbTooltip]="'This field is mandatory' | translate">*</span>
          <div>
            <input class="form-control" name="name" [(ngModel)]="new_user.name" type="text" required/>
          </div>
        </div>
        <div class="form-group">
          <label>{{ 'Email address' | translate }}</label>
          <span class="text-danger" [ngbTooltip]="'This field is mandatory' | translate">*</span>
          <div>
            <input class="form-control" name="email" [(ngModel)]="new_user.email" [pattern]="CONSTANTS.email_regexp" type="email" [ngClass]="{'is-invalid': newUser.email.$error.pattern}" required/>
          </div>
          <div class="text-danger" *ngIf="newUser.email.$error.pattern" [translate]="'Invalid email address'"></div>
        </div>
        <div class="form-group">
          <button id="add-btn" class="btn btn-primary" [disabled]="newUser.invalid" (click)="add_user(); toggleAddUser()" type="submit">
            <i class="fa-solid fa-plus"></i>
            <span>{{ 'Add' | translate }}</span>
          </button>
        </div>
      </div>
    </div>
  </div>
  