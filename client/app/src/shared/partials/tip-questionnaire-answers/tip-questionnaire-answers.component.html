<div id="TipQuestionnaireAnswersBox" class="card card-default">
    <div class="card-header clearfix" (click)="toggleColapse(); utilsService.stopPropagation($event)">
        <span data-translate>Questionnaire answers</span>
        <span class="float-right">
            <i *ngIf="!collapsed" class="fa-solid fa-chevron-up" data-toggle="tooltip" title="{{'Collapse' | scopedTranslate}}"></i>
            <i *ngIf="collapsed" class="fa-solid fa-chevron-down" data-toggle="tooltip" title="{{'Expand' | scopedTranslate}}"></i>
        </span>
    </div>

    <div class="card-body" *ngIf="!collapsed">
         <div *ngFor="let questionnaire of wbtipService.tip.questionnaires;let index = index">
             <div *ngIf="wbtipService.tip.questionnaires.length > 1">
                 <span>{{'Questionnaire'|translate}}</span>
                 <span>{{index + 1}}</span>
             </div>

             <div *ngFor="let step of questionnaire.steps | orderBy:'order'; let questionare_steps = index">

                 <dt id="step={{questionare_steps}}" *ngIf="questionnaire.steps.length > 1 && wbtipService.tip.context.show_steps_navigation_interface && step.enabled">
                     <span>{{'Step'|translate}}</span>
                     <span>{{questionare_steps + 1}}: {{step.label}}</span>
                 </dt>
                 <div *ngIf="step.enabled">
                     <div *ngFor="let field of step.children | orderBy:['y', 'x']; let index_step = index" >
                       <src-tip-field [fieldAnswers] = "questionnaire.answers" [fields]= "field" [index]= "index_step"></src-tip-field>
                     </div>
                 </div>
             </div>
         </div>
    </div>
</div>
